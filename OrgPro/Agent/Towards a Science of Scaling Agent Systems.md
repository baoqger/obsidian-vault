
![[Pasted image 20251221083113.png]]

### 这篇文章主要回答下面三个问题: 

1. 决定一个智能体系统表现好坏的因素是什么？是智能体的数量吗? 是它们的组织方式? 是模型本身的智能程度吗?还是任务的类型？
2. 多智能体系统, 在什么情况下有好处, 什么场景下只能帮倒忙?
3. 我们能否构建一个简单且具有预测性的规则，只根据任务特征、而不靠反复试错，就能为新任务选择最合适的智能体架构？

### 研究方法

一共研究了5中智能体系统架构: 
- 单智能体系统（SAS）
- 多智能体系统（MAS）：多智能体系统架构分为4种不同的协作方式：
    - 独立式（Independent）：每个Agent各做各的，最后把答案合在一起。几乎不交流，只是结果合并。
    - 中心化（Centralized）：有一个“组长”，负责分配任务，并检查组员的结果。
    - 去中心化（Decentralized）：每个人都和每个人交流（小组讨论），一起达成共享答案。
    - 混合式（Hybrid）：既有组长，也有组员之间的直接交流（组员互相讨论）。

文章里设计了四类真实任务, 分别测试以上这五种智能体架构的表现：
- Finance-Agent：分析金融数据并给出合理的结论。
- BrowseComp-Plus：在全网范围内查找并整合信息。
- PlanCraft：在不断变化的环境中，逐步规划行动。
- Workbench：执行真实工作任务，需要选择并正确使用合适的工具。

他们不仅关注最终的准确率，还额外衡量了：
- 协同开销：团队需要多少“交流”或组织协调的时间成本。
- 效率：每单位投入（如 token 或步骤）带来的成功率。
- 错误放大：错误在团队中被扩散还是被纠正。
- 冗余度：不同智能体给出的答案有多相似（这对投票或交叉检查很有用）。

为了公平比较，本章在所有测试中设置一些限制条件, 而且条件保持一致: 
- 使用相同的工具（如网页搜索、代码执行）和相同的提示词。
- 使用相同的“token 预算”, token不是无限供应的! (要评估在资源有限的条件下, 哪个方案更好)

最后，他们基于这些测量结果构建了一个预测模型（其实是一个相对简单的公式），可以解释大约一半的性能差异，并且在大多数情况下都能正确选出表现最好的系统架构。

### 研究发现

- 工具使用 vs. 协调成本的权衡：  
如果一个任务需要大量使用工具（比如频繁调用应用、访问网站或运行代码），在固定token预算下把工作拆给多个智能体，往往会让表现变差。为什么？因为：
	- 每个智能体分到的“思考 token”更少；
	- 用在相互协调上的开销，会挤占真正用来好好使用工具的精力。

(Chris认为, 这跟臃肿的人类组织结构是一样的, 精力都花在对齐"颗粒度"了)


- 能力饱和效应：  
如果单个智能体本身表现已经不错, 比如, 能够大约实现45% 或以上的成功率，再增加智能体通常会让结果变更差。  这是因为：额外的协作带来的好处很小，但协调开销却很大，得不偿失。

- 错误放大程度取决于团队结构：
  - 独立式（Independent）多智能体系统：错误容易被成倍放大（大约 17 倍），因为在最后合并结果前，几乎没人相互检查。
  - 中心化（Centralized）多智能体系统：对错误的“控制力”更好（大约 4 倍），因为“负责人”会审阅和筛选每个人的工作。

(Chris认为, 完全独立的多智能体结构, 类似合并代码的时候, 因为没有merge过master分支, 造成了大量的冲突!)

- 任务类型比团队规模更重要：

   - 适合并行的任务（比如分析公司不同部门的财务，再把结果合并）：  中心化（Centralized）团队表现明显更好（最多可比单智能体高约 81%）。
   - 动态网页浏览任务（可以同时探索不同页面有帮助）：  去中心化（Decentralized）团队有一定收益（大约 +9%）。
  - 严格顺序执行的的任务（例如每一步都强依赖上一步的精细规划）：  所有多智能体方案都变得更糟（大约 −39% 到 −70%），因为过多的协调会把推理过程拆得支离破碎，还增加额外开销。

最终, 本章构建的预测模型在面对新的、没见过的任务配置时，大约有 87% 的情况下能选对最佳的智能体架构。  

这项研究为构建 AI 系统的人提供了更高层级的设计思路：

- 不要想当然地认为“智能体越多越好”，而是要让团队结构匹配任务类型。
- 对于可以自然拆分成多个部分的任务（如财务分析、按章节写报告），适合使用中心化（Centralized）协调者。
- 对于开放式探索（比如网页信息调研），可以更多依赖去中心化（Decentralized）的讨论式协作。
- 对于强依赖前后顺序的任务（精细规划、每一步都依赖上一步的流程），更应选择一个能力较强的单智能体(SAS)来完成。
- 如果任务非常依赖大量工具调用，在算力/预算有限的情况下，把预算分给太多智能体，反而会拖累表现；给一个智能体更多预算通常更好。
